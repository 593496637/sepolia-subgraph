# ğŸš€ æ™ºèƒ½åˆçº¦éƒ¨ç½²æŒ‡å—

> ğŸ“– **å®Œæ•´æµç¨‹**ï¼šä»åˆçº¦ç¼–å†™åˆ°ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²çš„è¯¦ç»†æŒ‡å—

## ğŸ¯ éƒ¨ç½²ç›®æ ‡

é€šè¿‡æœ¬æŒ‡å—ï¼Œä½ å°†å­¦ä¼šï¼š
- âœ… æœ¬åœ°å¼€å‘ç¯å¢ƒæ­å»º
- âœ… åˆçº¦ç¼–è¯‘å’Œæµ‹è¯•æµç¨‹
- âœ… æµ‹è¯•ç½‘éƒ¨ç½²å’ŒéªŒè¯
- âœ… ä¸»ç½‘éƒ¨ç½²æœ€ä½³å®è·µ
- âœ… éƒ¨ç½²åçš„ç›‘æ§å’Œç»´æŠ¤

---

## ğŸ› ï¸ ç¬¬ä¸€éƒ¨åˆ†ï¼šå¼€å‘ç¯å¢ƒæ­å»º

### 1.1 å¿…éœ€å·¥å…·å®‰è£…

```bash
# 1. å®‰è£… Node.js (ç‰ˆæœ¬ 18+)
node --version

# 2. å®‰è£… Hardhat å¼€å‘æ¡†æ¶
npm install -g hardhat

# 3. åˆ›å»ºæ–°é¡¹ç›®
mkdir my-contract-project
cd my-contract-project
npx hardhat init

# 4. å®‰è£…å¸¸ç”¨æ’ä»¶
npm install --save-dev @nomiclabs/hardhat-ethers ethers @nomiclabs/hardhat-etherscan
```

### 1.2 é¡¹ç›®ç»“æ„è®¾ç½®

```
my-contract-project/
â”œâ”€â”€ contracts/           # æ™ºèƒ½åˆçº¦æºç 
â”‚   â””â”€â”€ SimpleTransfer.sol
â”œâ”€â”€ scripts/            # éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ deploy.js
â”œâ”€â”€ test/              # æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ SimpleTransfer.test.js
â”œâ”€â”€ hardhat.config.js  # Hardhat é…ç½®
â”œâ”€â”€ package.json
â””â”€â”€ .env              # ç¯å¢ƒå˜é‡ (ä¸è¦æäº¤åˆ° git)
```

### 1.3 Hardhat é…ç½®

```javascript
// hardhat.config.js
require('@nomiclabs/hardhat-ethers');
require('@nomiclabs/hardhat-etherscan');
require('dotenv').config();

module.exports = {
  solidity: {
    version: "0.8.30",
    settings: {
      optimizer: {
        enabled: true,
        runs: 200
      }
    }
  },
  networks: {
    // æœ¬åœ°å¼€å‘ç½‘ç»œ
    hardhat: {
      chainId: 31337
    },
    
    // Sepolia æµ‹è¯•ç½‘
    sepolia: {
      url: process.env.SEPOLIA_URL || "https://rpc.sepolia.org",
      accounts: process.env.PRIVATE_KEY ? [process.env.PRIVATE_KEY] : [],
      gasPrice: "auto",
      gas: "auto"
    },
    
    // ä»¥å¤ªåŠä¸»ç½‘
    mainnet: {
      url: process.env.MAINNET_URL || "",
      accounts: process.env.PRIVATE_KEY ? [process.env.PRIVATE_KEY] : [],
      gasPrice: "auto"
    }
  },
  
  // Etherscan API é…ç½®ï¼ˆç”¨äºåˆçº¦éªŒè¯ï¼‰
  etherscan: {
    apiKey: process.env.ETHERSCAN_API_KEY
  }
};
```

### 1.4 ç¯å¢ƒå˜é‡é…ç½®

```bash
# .env æ–‡ä»¶å†…å®¹
PRIVATE_KEY=ä½ çš„ç§é’¥ï¼ˆä¸è¦åŒ…å«0xå‰ç¼€ï¼‰
SEPOLIA_URL=https://rpc.sepolia.org
MAINNET_URL=https://mainnet.infura.io/v3/ä½ çš„é¡¹ç›®ID
ETHERSCAN_API_KEY=ä½ çš„Etherscan API Key

# âš ï¸ é‡è¦å®‰å…¨æç¤ºï¼š
# 1. æ°¸è¿œä¸è¦å°† .env æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
# 2. ä½¿ç”¨ä¸“é—¨çš„éƒ¨ç½²è´¦æˆ·ï¼Œä¸è¦ä½¿ç”¨ä¸»è´¦æˆ·
# 3. ä¸ºä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒçš„ç§é’¥
```

---

## ğŸ“ ç¬¬äºŒéƒ¨åˆ†ï¼šåˆçº¦å‡†å¤‡å’Œæµ‹è¯•

### 2.1 åˆçº¦ä»£ç å‡†å¤‡

```solidity
// contracts/SimpleTransferContract.sol
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.30;

contract SimpleTransferContract {
    // åˆçº¦ç‰ˆæœ¬ - ç”¨äºå‡çº§ç®¡ç†
    string public constant VERSION = "1.0.0";
    
    // éƒ¨ç½²è€…åœ°å€
    address public deployer;
    
    // éƒ¨ç½²æ—¶é—´
    uint256 public deploymentTime;
    
    // äº‹ä»¶å®šä¹‰
    event TransferRecord(
        address indexed from,
        address indexed to,
        uint256 value,
        uint256 timestamp,
        string message,
        bytes32 recordId
    );
    
    // éƒ¨ç½²äº‹ä»¶
    event Deployed(address indexed deployer, uint256 timestamp, string version);
    
    constructor() {
        deployer = msg.sender;
        deploymentTime = block.timestamp;
        emit Deployed(msg.sender, block.timestamp, VERSION);
    }
    
    // ... å…¶ä»–åˆçº¦é€»è¾‘
}
```

### 2.2 ç¼–å†™éƒ¨ç½²è„šæœ¬

```javascript
// scripts/deploy.js
const { ethers } = require("hardhat");

async function main() {
    console.log("ğŸš€ å¼€å§‹éƒ¨ç½² SimpleTransferContract...");
    
    // è·å–éƒ¨ç½²è´¦æˆ·
    const [deployer] = await ethers.getSigners();
    console.log("ğŸ“‹ éƒ¨ç½²è´¦æˆ·:", deployer.address);
    
    // æ£€æŸ¥è´¦æˆ·ä½™é¢
    const balance = await deployer.getBalance();
    console.log("ğŸ’° è´¦æˆ·ä½™é¢:", ethers.utils.formatEther(balance), "ETH");
    
    // è·å–å½“å‰ Gas ä»·æ ¼
    const gasPrice = await ethers.provider.getGasPrice();
    console.log("â›½ å½“å‰ Gas ä»·æ ¼:", ethers.utils.formatUnits(gasPrice, "gwei"), "Gwei");
    
    // éƒ¨ç½²åˆçº¦
    const SimpleTransferContract = await ethers.getContractFactory("SimpleTransferContract");
    
    // ä¼°ç®—éƒ¨ç½²æˆæœ¬
    const deployTx = SimpleTransferContract.getDeployTransaction();
    const estimatedGas = await ethers.provider.estimateGas(deployTx);
    const deploymentCost = gasPrice.mul(estimatedGas);
    
    console.log("ğŸ“Š ä¼°ç®—éƒ¨ç½²æˆæœ¬:", ethers.utils.formatEther(deploymentCost), "ETH");
    
    // ç¡®è®¤éƒ¨ç½²
    console.log("â³ éƒ¨ç½²ä¸­...");
    const contract = await SimpleTransferContract.deploy({
        gasPrice: gasPrice,
        gasLimit: estimatedGas.add(50000) // æ·»åŠ é¢å¤– Gas ç¼“å†²
    });
    
    console.log("ğŸ“„ åˆçº¦éƒ¨ç½²äº¤æ˜“:", contract.deployTransaction.hash);
    console.log("â³ ç­‰å¾…ç¡®è®¤...");
    
    // ç­‰å¾…éƒ¨ç½²ç¡®è®¤
    await contract.deployed();
    
    console.log("âœ… åˆçº¦éƒ¨ç½²æˆåŠŸ!");
    console.log("ğŸ“ åˆçº¦åœ°å€:", contract.address);
    console.log("ğŸ”— åŒºå—å·:", contract.deployTransaction.blockNumber);
    
    // éªŒè¯éƒ¨ç½²
    console.log("ğŸ” éªŒè¯éƒ¨ç½²...");
    const version = await contract.VERSION();
    const deployer_addr = await contract.deployer();
    
    console.log("ğŸ“‹ åˆçº¦ç‰ˆæœ¬:", version);
    console.log("ğŸ‘¤ éƒ¨ç½²è€…:", deployer_addr);
    
    // ä¿å­˜éƒ¨ç½²ä¿¡æ¯
    const deploymentInfo = {
        contractAddress: contract.address,
        deploymentTxHash: contract.deployTransaction.hash,
        blockNumber: contract.deployTransaction.blockNumber,
        deployer: deployer.address,
        timestamp: new Date().toISOString(),
        network: hre.network.name,
        version: version
    };
    
    console.log("ğŸ’¾ éƒ¨ç½²ä¿¡æ¯:", JSON.stringify(deploymentInfo, null, 2));
}

main()
    .then(() => process.exit(0))
    .catch((error) => {
        console.error("âŒ éƒ¨ç½²å¤±è´¥:", error);
        process.exit(1);
    });
```

### 2.3 æœ¬åœ°æµ‹è¯•

```bash
# 1. ç¼–è¯‘åˆçº¦
npx hardhat compile

# 2. è¿è¡Œæµ‹è¯•
npx hardhat test

# 3. åœ¨æœ¬åœ°ç½‘ç»œéƒ¨ç½²
npx hardhat node  # å¦ä¸€ä¸ªç»ˆç«¯è¿è¡Œ
npx hardhat run scripts/deploy.js --network localhost

# 4. äº¤äº’æµ‹è¯•
npx hardhat console --network localhost
```

---

## ğŸŒ ç¬¬ä¸‰éƒ¨åˆ†ï¼šæµ‹è¯•ç½‘éƒ¨ç½²

### 3.1 Sepolia æµ‹è¯•ç½‘éƒ¨ç½²

```bash
# 1. è·å–æµ‹è¯• ETH
# è®¿é—® https://sepoliafaucet.com/ è·å–æµ‹è¯•å¸

# 2. éƒ¨ç½²åˆ° Sepolia
npx hardhat run scripts/deploy.js --network sepolia

# 3. éªŒè¯éƒ¨ç½²ç»“æœ
npx hardhat verify --network sepolia <åˆçº¦åœ°å€>
```

### 3.2 éƒ¨ç½²éªŒè¯æ£€æŸ¥æ¸…å•

```javascript
// scripts/verify-deployment.js
const { ethers } = require("hardhat");

async function verifyDeployment(contractAddress) {
    console.log("ğŸ” éªŒè¯åˆçº¦éƒ¨ç½²...");
    
    const contract = await ethers.getContractAt("SimpleTransferContract", contractAddress);
    
    try {
        // æ£€æŸ¥åŸºæœ¬ä¿¡æ¯
        const version = await contract.VERSION();
        const deployer = await contract.deployer();
        const deploymentTime = await contract.deploymentTime();
        
        console.log("âœ… åˆçº¦å¯è®¿é—®");
        console.log("ğŸ“‹ ç‰ˆæœ¬:", version);
        console.log("ğŸ‘¤ éƒ¨ç½²è€…:", deployer);
        console.log("â° éƒ¨ç½²æ—¶é—´:", new Date(deploymentTime * 1000).toISOString());
        
        // æ£€æŸ¥æ ¸å¿ƒåŠŸèƒ½
        const totalRecords = await contract.totalRecords();
        console.log("ğŸ“Š æ€»è®°å½•æ•°:", totalRecords.toString());
        
        // å‘é€æµ‹è¯•äº¤æ˜“ï¼ˆå¦‚æœéœ€è¦ï¼‰
        // const tx = await contract.recordTransfer(
        //     "0x...", 
        //     ethers.utils.parseEther("0.1"), 
        //     "æµ‹è¯•è®°å½•"
        // );
        // await tx.wait();
        // console.log("âœ… æµ‹è¯•äº¤æ˜“æˆåŠŸ");
        
        console.log("ğŸ‰ åˆçº¦éªŒè¯å®Œæˆ!");
        return true;
        
    } catch (error) {
        console.error("âŒ éªŒè¯å¤±è´¥:", error.message);
        return false;
    }
}

// ä½¿ç”¨æ–¹æ³•
// npx hardhat run scripts/verify-deployment.js --network sepolia
// ç„¶åæ‰‹åŠ¨è¾“å…¥åˆçº¦åœ°å€
```

### 3.3 Etherscan éªŒè¯

```bash
# è‡ªåŠ¨éªŒè¯
npx hardhat verify --network sepolia <åˆçº¦åœ°å€> [æ„é€ å‡½æ•°å‚æ•°]

# å¦‚æœè‡ªåŠ¨éªŒè¯å¤±è´¥ï¼Œä½¿ç”¨æ‰‹åŠ¨éªŒè¯
# 1. è®¿é—® https://sepolia.etherscan.io/
# 2. æœç´¢åˆçº¦åœ°å€
# 3. ç‚¹å‡» "Contract" -> "Verify and Publish"
# 4. å¡«å…¥åˆçº¦æºç å’Œç¼–è¯‘è®¾ç½®
```

---

## ğŸ­ ç¬¬å››éƒ¨åˆ†ï¼šä¸»ç½‘éƒ¨ç½²å‡†å¤‡

### 4.1 ä¸»ç½‘éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

**å®‰å…¨æ£€æŸ¥**
- [ ] ä»£ç å®¡è®¡å®Œæˆ
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 90%
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] åœ¨æµ‹è¯•ç½‘é•¿æœŸè¿è¡ŒéªŒè¯
- [ ] å¤šé‡ç­¾åé’±åŒ…è®¾ç½®
- [ ] ç´§æ€¥æš‚åœæœºåˆ¶æµ‹è¯•

**æŠ€æœ¯æ£€æŸ¥**
- [ ] Gas ä¼˜åŒ–å®Œæˆ
- [ ] åˆçº¦å¤§å° < 24KB
- [ ] æ‰€æœ‰ä¾èµ–åº“å®‰å…¨
- [ ] å‡çº§æœºåˆ¶ï¼ˆå¦‚éœ€è¦ï¼‰æµ‹è¯•
- [ ] ç›‘æ§å’ŒæŠ¥è­¦è®¾ç½®

**è¿è¥æ£€æŸ¥**
- [ ] éƒ¨ç½²èµ„é‡‘å‡†å¤‡å……è¶³
- [ ] å®˜æ–¹æ–‡æ¡£å®Œæˆ
- [ ] ç¤¾åŒºé€šçŸ¥å‡†å¤‡
- [ ] åº”æ€¥å“åº”é¢„æ¡ˆ

### 4.2 ä¸»ç½‘éƒ¨ç½²è„šæœ¬

```javascript
// scripts/mainnet-deploy.js
const { ethers } = require("hardhat");
const readline = require('readline');

async function confirmDeployment() {
    const rl = readline.createInterface({
        input: process.stdin,
        output: process.stdout
    });
    
    return new Promise((resolve) => {
        rl.question('âš ï¸  ç¡®è®¤éƒ¨ç½²åˆ°ä¸»ç½‘ï¼Ÿè¿™å°†æ¶ˆè€—çœŸå®çš„ ETHï¼(yes/no): ', (answer) => {
            rl.close();
            resolve(answer.toLowerCase() === 'yes');
        });
    });
}

async function mainnetDeploy() {
    console.log("ğŸš¨ ä¸»ç½‘éƒ¨ç½²æµç¨‹å¯åŠ¨");
    
    // ç½‘ç»œæ£€æŸ¥
    const network = await ethers.provider.getNetwork();
    if (network.chainId !== 1) {
        throw new Error("âŒ ä¸æ˜¯ä»¥å¤ªåŠä¸»ç½‘!");
    }
    
    // éƒ¨ç½²è€…æ£€æŸ¥
    const [deployer] = await ethers.getSigners();
    const balance = await deployer.getBalance();
    const minBalance = ethers.utils.parseEther("0.1"); // æœ€å°‘ 0.1 ETH
    
    if (balance.lt(minBalance)) {
        throw new Error("âŒ è´¦æˆ·ä½™é¢ä¸è¶³!");
    }
    
    console.log("ğŸ“‹ éƒ¨ç½²è´¦æˆ·:", deployer.address);
    console.log("ğŸ’° è´¦æˆ·ä½™é¢:", ethers.utils.formatEther(balance), "ETH");
    
    // Gas ä»·æ ¼æ£€æŸ¥
    const gasPrice = await ethers.provider.getGasPrice();
    const gasPriceGwei = ethers.utils.formatUnits(gasPrice, "gwei");
    
    if (parseFloat(gasPriceGwei) > 50) {
        console.log("âš ï¸  å½“å‰ Gas ä»·æ ¼è¾ƒé«˜:", gasPriceGwei, "Gwei");
        console.log("ğŸ’¡ å»ºè®®ç­‰å¾… Gas ä»·æ ¼é™ä½åå†éƒ¨ç½²");
    }
    
    // ç”¨æˆ·ç¡®è®¤
    if (!await confirmDeployment()) {
        console.log("âŒ ç”¨æˆ·å–æ¶ˆéƒ¨ç½²");
        return;
    }
    
    // å¼€å§‹éƒ¨ç½²
    console.log("ğŸš€ å¼€å§‹ä¸»ç½‘éƒ¨ç½²...");
    
    const SimpleTransferContract = await ethers.getContractFactory("SimpleTransferContract");
    const contract = await SimpleTransferContract.deploy({
        gasPrice: gasPrice
    });
    
    console.log("ğŸ“„ éƒ¨ç½²äº¤æ˜“:", contract.deployTransaction.hash);
    console.log("â³ ç­‰å¾…ç¡®è®¤ä¸­...");
    
    await contract.deployed();
    
    console.log("ğŸ‰ ä¸»ç½‘éƒ¨ç½²æˆåŠŸ!");
    console.log("ğŸ“ åˆçº¦åœ°å€:", contract.address);
    
    // ä¿å­˜é‡è¦ä¿¡æ¯
    const deploymentData = {
        contractAddress: contract.address,
        deploymentTx: contract.deployTransaction.hash,
        deployer: deployer.address,
        timestamp: new Date().toISOString(),
        gasPrice: gasPriceGwei,
        network: "mainnet"
    };
    
    console.log("ğŸ’¾ è¯·å¤‡ä»½ä»¥ä¸‹éƒ¨ç½²ä¿¡æ¯:");
    console.log(JSON.stringify(deploymentData, null, 2));
}

mainnetDeploy()
    .then(() => process.exit(0))
    .catch((error) => {
        console.error("âŒ ä¸»ç½‘éƒ¨ç½²å¤±è´¥:", error);
        process.exit(1);
    });
```

---

## ğŸ“Š ç¬¬äº”éƒ¨åˆ†ï¼šéƒ¨ç½²åæ“ä½œ

### 5.1 åˆçº¦éªŒè¯å’Œå‘å¸ƒ

```bash
# 1. Etherscan éªŒè¯
npx hardhat verify --network mainnet <åˆçº¦åœ°å€>

# 2. åˆ›å»ºå®˜æ–¹ä»“åº“æ ‡ç­¾
git tag -a v1.0.0 -m "Production deployment v1.0.0"
git push origin v1.0.0
```

### 5.2 ç›‘æ§è®¾ç½®

```javascript
// scripts/monitor.js
const { ethers } = require("hardhat");

async function setupMonitoring(contractAddress) {
    const contract = await ethers.getContractAt("SimpleTransferContract", contractAddress);
    
    // ç›‘å¬äº‹ä»¶
    contract.on("TransferRecord", (from, to, value, timestamp, message, recordId) => {
        console.log(`ğŸ”” æ–°è½¬è´¦è®°å½•: ${from} -> ${to}, é‡‘é¢: ${ethers.utils.formatEther(value)} ETH`);
        
        // å‘é€é€šçŸ¥åˆ°ç›‘æ§ç³»ç»Ÿ
        // sendToSlack() æˆ– sendToTelegram() ç­‰
    });
    
    console.log("ğŸ‘ï¸ ç›‘æ§ç³»ç»Ÿå·²å¯åŠ¨");
}
```

### 5.3 æ–‡æ¡£æ›´æ–°

æ›´æ–°é¡¹ç›®æ–‡æ¡£ï¼ŒåŒ…æ‹¬ï¼š
- åˆçº¦åœ°å€
- ABI æ–‡ä»¶
- ä½¿ç”¨ç¤ºä¾‹
- API æ–‡æ¡£

---

## ğŸ”§ ç¬¬å…­éƒ¨åˆ†ï¼šæ•…éšœæ’é™¤

### 6.1 å¸¸è§éƒ¨ç½²é—®é¢˜

| é—®é¢˜ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| Gas ä¸è¶³ | Gas limit è®¾ç½®è¿‡ä½ | å¢åŠ  gasLimit æˆ–ä½¿ç”¨ "auto" |
| äº¤æ˜“å›æ»š | åˆçº¦é€»è¾‘é”™è¯¯ | æ£€æŸ¥ require æ¡ä»¶å’Œé€»è¾‘ |
| éªŒè¯å¤±è´¥ | ç¼–è¯‘è®¾ç½®ä¸åŒ¹é… | ç¡®ä¿ solc ç‰ˆæœ¬å’Œä¼˜åŒ–è®¾ç½®ä¸€è‡´ |
| ç½‘ç»œè¿æ¥é—®é¢˜ | RPC èŠ‚ç‚¹ä¸å¯ç”¨ | æ›´æ¢ RPC ç«¯ç‚¹ |
| ç§é’¥é”™è¯¯ | ç§é’¥æ ¼å¼é”™è¯¯ | æ£€æŸ¥ç§é’¥æ ¼å¼ï¼Œä¸è¦åŒ…å« 0x |

### 6.2 éƒ¨ç½²å›æ»šç­–ç•¥

å¦‚æœéƒ¨ç½²åå‘ç°é‡å¤§é—®é¢˜ï¼š

```solidity
// ç´§æ€¥æš‚åœæ¨¡å¼
contract EmergencyPause {
    bool public paused = false;
    address public owner;
    
    modifier whenNotPaused() {
        require(!paused, "Contract is paused");
        _;
    }
    
    modifier onlyOwner() {
        require(msg.sender == owner, "Not owner");
        _;
    }
    
    function pause() external onlyOwner {
        paused = true;
    }
    
    function unpause() external onlyOwner {
        paused = false;
    }
}
```

---

## ğŸ“ˆ ç¬¬ä¸ƒéƒ¨åˆ†ï¼šéƒ¨ç½²æœ€ä½³å®è·µ

### 7.1 ç‰ˆæœ¬ç®¡ç†

```javascript
// è¯­ä¹‰åŒ–ç‰ˆæœ¬ç®¡ç†
contract SimpleTransferContract {
    string public constant VERSION = "1.2.3"; // ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.è¡¥ä¸ç‰ˆæœ¬
    
    // ç‰ˆæœ¬å†å²è®°å½•
    event VersionUpdated(string oldVersion, string newVersion, uint256 timestamp);
}
```

### 7.2 å¤šç¯å¢ƒç®¡ç†

```javascript
// hardhat.config.js - å¤šç¯å¢ƒé…ç½®
const configs = {
    development: {
        gas: 8000000,
        gasPrice: 1000000000, // 1 Gwei
    },
    staging: {
        gas: 6000000,
        gasPrice: 2000000000, // 2 Gwei
    },
    production: {
        gas: 5000000,
        gasPrice: null, // ä½¿ç”¨ç½‘ç»œå½“å‰ä»·æ ¼
    }
};

module.exports = {
    networks: {
        sepolia: {
            ...baseConfig,
            ...configs.development
        },
        mainnet: {
            ...baseConfig,
            ...configs.production
        }
    }
};
```

### 7.3 è‡ªåŠ¨åŒ–éƒ¨ç½²

```yaml
# .github/workflows/deploy.yml
name: Smart Contract Deployment

on:
  push:
    tags:
      - 'v*'

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: actions/setup-node@v2
      with:
        node-version: '18'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Run tests
      run: npm test
    
    - name: Deploy to testnet
      if: contains(github.ref, 'beta')
      run: npx hardhat run scripts/deploy.js --network sepolia
      env:
        PRIVATE_KEY: ${{ secrets.TESTNET_PRIVATE_KEY }}
        SEPOLIA_URL: ${{ secrets.SEPOLIA_URL }}
    
    - name: Deploy to mainnet
      if: contains(github.ref, 'release')
      run: npx hardhat run scripts/mainnet-deploy.js --network mainnet
      env:
        PRIVATE_KEY: ${{ secrets.MAINNET_PRIVATE_KEY }}
        MAINNET_URL: ${{ secrets.MAINNET_URL }}
```

---

## âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰
- [ ] ä»£ç å®¡è®¡å®Œæˆ
- [ ] æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡
- [ ] åœ¨æµ‹è¯•ç½‘éªŒè¯åŠŸèƒ½
- [ ] Gas ä¼˜åŒ–å®Œæˆ
- [ ] æ–‡æ¡£ç¼–å†™å®Œæ•´
- [ ] ç§é’¥å’Œèµ„é‡‘å‡†å¤‡

### éƒ¨ç½²ä¸­
- [ ] ç½‘ç»œç¯å¢ƒç¡®è®¤
- [ ] Gas ä»·æ ¼åˆç†
- [ ] äº¤æ˜“ç¡®è®¤æˆåŠŸ
- [ ] åˆçº¦åœ°å€ä¿å­˜
- [ ] éƒ¨ç½²ä¿¡æ¯å¤‡ä»½

### éƒ¨ç½²å
- [ ] åŠŸèƒ½éªŒè¯é€šè¿‡
- [ ] Etherscan éªŒè¯
- [ ] ç›‘æ§ç³»ç»Ÿå¯åŠ¨
- [ ] æ–‡æ¡£æ›´æ–°å‘å¸ƒ
- [ ] ç¤¾åŒºé€šçŸ¥å®Œæˆ

---

## ğŸ¯ æ€»ç»“

æ™ºèƒ½åˆçº¦éƒ¨ç½²æ˜¯ä¸€ä¸ªéœ€è¦è°¨æ…æ“ä½œçš„è¿‡ç¨‹ï¼Œç‰¹åˆ«æ˜¯ä¸»ç½‘éƒ¨ç½²ã€‚è®°ä½ï¼š

1. **æµ‹è¯•è‡³ä¸Š**ï¼šåœ¨æµ‹è¯•ç½‘å……åˆ†éªŒè¯æ‰€æœ‰åŠŸèƒ½
2. **å®‰å…¨ç¬¬ä¸€**ï¼šä½¿ç”¨å¤šé‡ç­¾åå’Œç´§æ€¥æš‚åœæœºåˆ¶
3. **æ–‡æ¡£å®Œå–„**ï¼šæä¾›æ¸…æ™°çš„ä½¿ç”¨æ–‡æ¡£
4. **ç›‘æ§åŠæ—¶**ï¼šå»ºç«‹å®Œå–„çš„ç›‘æ§å’ŒæŠ¥è­¦ç³»ç»Ÿ
5. **å¤‡ä»½é‡è¦**ï¼šå¦¥å–„ä¿å­˜éƒ¨ç½²ä¿¡æ¯å’Œç§é’¥

ğŸš€ **å‡†å¤‡å¥½äº†å—ï¼Ÿç°åœ¨å°±å¼€å§‹ä½ çš„æ™ºèƒ½åˆçº¦éƒ¨ç½²ä¹‹æ—…å§ï¼**